<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <title>Canvas experiment</title>
  </head>
  <body>
    <button onclick="dimensions()">Find the natural dimensions</button><br>
    <button onclick="draw()">Show the map on the canvas</button><br>
    <button onclick="getPixel()">Console log the pixel 0,0</button><br>
    <canvas id="canvas" width="160" height="160"></canvas>
    <br>
    <img id="theMap" src="https://registerchilton.github.io/Geography456/RockyRiverWatershed.jpg" alt="Plan of the Village">
  </body>

<script type="application/javascript">
    var img = document.getElementById("theMap")
    console.log(img)
    function draw() {
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        ctx.drawImage(img, 0, 0);    
    }

    function dimensions() {
        var imageWidth = document.getElementById("theMap").naturalWidth;
        var imageHeight = document.getElementById("theMap").naturalHeight;
        document.getElementById("canvas").width = imageWidth
        document.getElementById("canvas").height = imageHeight
        const canvas = document.getElementById("canvas");
        if (canvas.getContext) {
            const ctx = canvas.getContext("2d");
            img.onload = () => {ctx.drawImage(img, 0, 0);}
        }
    }

    function getPixel(){
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        myImageData = ctx.getImageData(100, 100, 1, 1);
        console.log("red = " + myImageData.data[0])
        console.log("blue = " + myImageData.data[1])
        console.log("green = " + myImageData.data[2])
        console.log("alpha = " + myImageData.data[3])
    }
    </script>
  </html>
